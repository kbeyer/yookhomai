

<section data-ng-show="global.user" data-ng-controller="ArticlesController" data-ng-init="find()">
  <div class="row">
    <ul class="articles unstyled">
      <li class="col-md-12 create-new">
        <div class="card">
          <div class="col-md-12 card-header">
            <h2><input id="newInput" class="input-inline" placeholder="Create a prayer..." ui-event="{ blur : 'saveNew($event)'}" ui-keypress="{13:'saveNew($event)'}"/></h2>
          </div>
          <div class="col-md-12 pull-right card-footer"></div>
      </li>

      <li class="col-md-12" data-ng-repeat="article in articles">
        <div class="card">
          <div class="col-md-12 card-header">
            <h2><input ng-model="article.title" ui-event="{ blur : 'updateExisting($event)'}" ui-keypress="{13:'updateExisting($event)'}" class="input-inline" placeholder="Create a prayer..." /></h2>
          </div>
          <div class="col-md-12 pull-right card-footer">
            <span>{{article.created | date:'short'}}</span> 
            <span>
              <button data-ng-show="global.user._id == article.user || global.user._id == article.user._id" 
                      data-ng-click="remove(article)"
                      type="button" class="btn btn-link icon-button">
                <i class="icon-remove-circle"></i>
              </button>
            </span>
           </div>
        </div>
      </li>
    </ul>
  </div>
</section>

<script>
      var pinching = false;
      $('.articles').hammer().on("pinchout", ".card", function(event) {
          pinching = true;
      });
      $('.articles').hammer().on("release", ".card", function(event) {
          if(pinching){ 
            window.location = '/pray';
            pinching = false; 
          }
      });
</script>